# This is the default configuration file - it does not solve for RCE
# The variables are explained below. If you want to model your own conditions,
# try making a copy of this file and then modifying it.

title = "Default"                       # Name for this configuration file

[planet]
    tmp_surf        = 2000.0            # Surface temperature [kelvin].
    instellation    = 44000.0           # Stellar flux at planet's orbital distance [W m-2].
    albedo_b        = 0.18              # Pseudo bond-albedo which downscales the stellar flux by 1-this_value.
    s0_fact         = 0.6652            # Stellar flux scale factor which accounts for planetary rotation (c.f. Cronin+13).
    zenith_angle    = 60.0              # Characteristic zenith angle for incoming stellar radiation [degrees].
    surface_material= "greybody"        # Surface material (can be "greybody" or path to data file).
    albedo_s        = 0.3               # Grey surface albedo when material=greybody.
    radius          = 6.37e6            # Planet radius at the surface [m].
    gravity         = 9.81              # Gravitational acceleration at the surface [m s-2]
    skin_d          = 0.01              # Conductive skin thickness [m]. Used when sol_type=2.
    skin_k          = 2.0               # Conductive skin conductivity [W m-1 K-1]. Used when sol_type=2.
    tmp_magma       = 3000.0            # Magma temperature [K]. Used when sol_type=2.
    flux_int        = 0.0               # Planet's internal flux [W m-2]. Used when sol_type=3.
    turb_coeff      = 0.001             # Turbulent exchange coefficient for sensible heat.
    wind_speed      = 2.0               # Effective wind speed for sensible heat [m s-1].

[deep_heating]
    active          = false             # Enable deep atmospheric heating (e.g., Ohmic/tidal dissipation).
    P_dep           = 1.0e5             # Deposition pressure [Pa] - center of Gaussian heating profile.
    sigma_P         = 1.0               # Width of Gaussian in log-pressure space [dimensionless].
    efficiency      = 0.0               # Heating efficiency as fraction of instellation.

    # Optional advanced controls (leave unset to use legacy behaviour)
    mechanism       = "generic"         # "generic" | "ohmic" | "tidal"
    normalization   = "pressure"        # "pressure" (legacy dF/dP) | "mass" (dm-weighted)
    below_domain    = "clamp"           # "clamp" | "boundary_flux" (if P_dep below/above domain)

    # Choose how the heating magnitude is specified
    power_mode      = "efficiency"      # "efficiency" | "flux" | "power"
    F_total         = 0.0               # [W m-2] used when power_mode="flux"
    power           = 0.0               # [W] used when power_mode="power" (converted to global-mean W m-2)

    # Ohmic proxy curve (only used when mechanism="ohmic")
    ohmic_Tpeak     = 1550.0            # [K] peak temperature of efficiency curve
    ohmic_sigmaT    = 250.0             # [K] width of efficiency curve

    # Tidal parameters (only used when mechanism="tidal" and power_mode="power" with power=0)
    tidal_e         = 0.0               # Eccentricity
    tidal_a         = 0.0               # Semi-major axis [m]
    tidal_Mstar     = 0.0               # Stellar mass [kg]
    tidal_k2        = 0.0               # Love number k2
    tidal_Q         = 1.0               # Tidal quality factor Q

[files]
    input_sf        = "res/spectral_files/Dayspring/48/Dayspring.sf"   # Path to SOCRATES spectral file.
    input_star      = "res/stellar_spectra/sun.txt"              # Path to stellar spectrum.
    output_dir      = "out/"                                            # Path to output directory.

[composition]
    p_surf          = 270.0                     # Total surface pressure [bar].
    p_top           = 1e-5                      # Total top-of-atmosphere pressure [bar].
    vmr_dict        = { H2O=1.0 }               # Volatile volume mixing ratios (=mole fractions).
    chemistry       = 0                         # Chemistry type (see wiki).
    condensates     = []                        # List of volatiles which are allowed to condense.

[execution]
    clean_output    = true                      # Clean the output folder at model startup.
    verbosity       = 1                         # Log level (0: none, 1: normal, 2: debug)
    max_steps       = 20000                     # Maximum number of solver steps.
    max_runtime     = 400                       # Maximum wall-clock solver runtime [s].
    num_levels      = 200                       # Number of model levels.
    continua        = true                      # Include absorption from continua?
    rayleigh        = true                      # Include rayleigh scattering?
    cloud           = false                     # Include water cloud radiative properties?
    overlap_method  = "ee"                      # Method for treating line overlap.
    real_gas        = true                      # Use real gas equation of state where possible?
    thermo_funct    = true                      # Use temperature-dependent thermodynamic properties?
    sensible_heat   = false                     # Include sensible heat transport at the surface?
    conduction      = true                      # Include thermal conductive heat transport?
    latent_heat     = false                     # Include heat release from phase change
    convection_crit = "s"                       # Stability criterion for convection. Options: (s)chwarzschild or (l)edoux.
    convection      = true                      # Include heat transport by convection
    rainout         = false                     # Model rainout - phase change impacts gas mixing ratios, not just energy fluxes
    solution_type   = 0                         # Solution type (see wiki).
    solver          = ""                        # Solver to use (see wiki).
    dx_max          = 200.0                     # Maximum step size [Kelvin], when using nonlinear solvers
    initial_state   = ["dry", "sat", "H2O"]     # Ordered list of requests describing the initial state of the atmosphere (see wiki).
    linesearch      = 0                         # Linesearch method to be used (0: None, 1: Golden, 2: Backtracking)
    easy_start      = false                     # Initially down-scale convective/condensation fluxes, if initial guess is poor.
    converge_atol   = 1.0e-3                    # Convergence criterion on absolute flux divergence [W m-2].
    converge_rtol   = 1.0e-1                    # Convergence criterion on relative flux divergence [dimensionless].
    perturb_all     = false                     # Perturb all rows of jacobin matrix?

[plots]
    at_runtime      = true                      # Make some plots at runtime?
    temperature     = true                      # Plot temperature profile?
    fluxes          = true                      # Plot fluxes?
    contribution    = true                      # Plot spectral contribution function?
    emission        = true                      # Plot emission spectrum?
    albedo          = true                      # Plot spectral albedo?
    mixing_ratios   = true                      # Plot mixing ratios?
    animate         = false                     # Make animation from runtime plots?
    height          = true                      # Plot hydrostatic solution for height?
    cloud           = false                     # Plot cloud profiles
